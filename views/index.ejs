<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Introduction to WebRTC</title>
	</head>
	<body>
		<h1>Introduction to WebRTC</h1>
		<video autoplay></video>

		<script>
			navigator.getUserMedia = navigator.getUserMedia ||
				navigator.webKitGetUserMedia ||
				navigator.mozGetUserMedia;

			var constraints = {
				audio: false,
				video: {
					mandatory: {
						/*
							Width	Height	Asspect Ratio
							1280	720	16:9
							960	720	4:3
							640	360	16:9
							640	480	4:3
							320	240	4:3
							320	180	16:9
						*/
						minWidth: 640,
						maxWidth: 640,
						minHeight: 360,
						maxHeight: 480
					}
				}
			};

			var videoArea = document.querySelector("video");
			
			navigator.getUserMedia(constraints, onSuccess, onError);
			
			function onSuccess(stream) {
				console.log("Success! We have a stream!");
				videoArea.src = window.URL.createObjectURL(stream);
				videoArea.play();
			}	

			function onError(error) {
				console.log("Error with getUserMedia : ", error);
			}
		</script>
	</body>
</html>
